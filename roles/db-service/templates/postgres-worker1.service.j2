# systemd service for PostgreSQL Instance (Worker1)

[Unit]
Description=PostgreSQL Instance (Worker1)

[Service]
Type=notify
User={{ db_user }}
Group={{ db_group }}
ExecStart={{ db_executable_directory }}/postgres -p {{ db_worker1_port }} -D {{ db_worker1_data_directory }} -r {{ db_log_directory }}/psql-worker1.log
ExecStop={{ db_executable_directory }}/pg_ctl stop -w -m smart -o "-p {{ db_worker1_port }}" -D {{ db_worker1_data_directory }}
ExecReload=/bin/kill -HUP $MAINPID
SyslogIdentifier=psql-worker1
# prevent OOM killer from choosing the postmaster (individual backends will reset the score to 0)
# OOMScoreAdjust=-900
KillMode=mixed
KillSignal=SIGINT
TimeoutSec=0

[Install]
WantedBy=multi-user.target