---
- name: Install BioFormats
  yum:
    state: installed
    name: "{{ item }}"
  with_items:
    - java-1.8.0-openjdk
    - java-1.8.0-openjdk-devel
  tags:
    - tm-library

- name: Clone the BioFormats repository
  git:
    repo: 'https://github.com/openmicroscopy/bioformats.git'
    dest: /tmp/jt-library-repo
    version: "v5.7.1"
  tags:
    - jt-library

- name: Install Python-PIP Python-DEVEL and GCC
  yum:
    state: installed
    name: "{{ item }}"
  with_items:
    - python-pip
    - python-devel
    - gcc
  tags:
    - jt-library

- name: Install "numpy" and "Cython" packages via PIP.
  pip:
    name: "{{ item }}"
  with_items:
    - numpy
    - Cython
  tags:
    - jt-library

- name: Install "JTLibrary" packages via PIP.
  pip:
    name: "/tmp/jt-library-repo"
    extra_args: --user
  tags:
    - jt-library
